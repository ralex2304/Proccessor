\doxysection{assembler/src/asm/jump.h File Reference}
\hypertarget{jump_8h}{}\label{jump_8h}\index{assembler/src/asm/jump.h@{assembler/src/asm/jump.h}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$assert.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}lib/utils/statuses.\+h"{}}\newline
{\ttfamily \#include "{}cmd.\+h"{}}\newline
{\ttfamily \#include "{}errors.\+h"{}}\newline
{\ttfamily \#include "{}asm.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604c}{Status\+::\+Statuses}} \mbox{\hyperlink{jump_8h_a885700d3d24bdc32ccfd56b8fc83920b}{asm\+\_\+new\+\_\+label}} (const \mbox{\hyperlink{structString}{String}} name, const size\+\_\+t addr, \mbox{\hyperlink{structAsm}{Asm}} \texorpdfstring{$\ast$}{*}asm\+\_\+data, const \mbox{\hyperlink{structAsmLine}{Asm\+Line}} \texorpdfstring{$\ast$}{*}line)
\begin{DoxyCompactList}\small\item\em Adds new label to labels. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604c}{Status\+::\+Statuses}} \mbox{\hyperlink{jump_8h_a6cc8acb715c697fe2aa2c8319fed264a}{asm\+\_\+get\+\_\+label\+\_\+addr}} (const \mbox{\hyperlink{structString}{String}} name, const \mbox{\hyperlink{structAsm}{Asm}} \texorpdfstring{$\ast$}{*}asm\+\_\+data, const \mbox{\hyperlink{structAsmLine}{Asm\+Line}} \texorpdfstring{$\ast$}{*}line, \mbox{\hyperlink{cmd_8h_a226f97678592b90d02bed2f62edf55c6}{Imm\+\_\+int\+\_\+t}} \texorpdfstring{$\ast$}{*}addr)
\begin{DoxyCompactList}\small\item\em Gets label addr by name. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structconst__String}{const\+\_\+\+String}} \mbox{\hyperlink{jump_8h_af62348fb6ee360c034bdf1cd0f645200}{asm\+\_\+get\+\_\+label\+\_\+name}} (const \mbox{\hyperlink{structJumpLabel}{Jump\+Label}} \texorpdfstring{$\ast$}{*}lables, const \mbox{\hyperlink{cmd_8h_a226f97678592b90d02bed2f62edf55c6}{Imm\+\_\+int\+\_\+t}} addr)
\begin{DoxyCompactList}\small\item\em Returns label name by addr. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{jump_8h_a6cc8acb715c697fe2aa2c8319fed264a}\label{jump_8h_a6cc8acb715c697fe2aa2c8319fed264a} 
\index{jump.h@{jump.h}!asm\_get\_label\_addr@{asm\_get\_label\_addr}}
\index{asm\_get\_label\_addr@{asm\_get\_label\_addr}!jump.h@{jump.h}}
\doxysubsubsection{\texorpdfstring{asm\_get\_label\_addr()}{asm\_get\_label\_addr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604c}{Status\+::\+Statuses}} asm\+\_\+get\+\_\+label\+\_\+addr (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structString}{String}}}]{name,  }\item[{const \mbox{\hyperlink{structAsm}{Asm}} \texorpdfstring{$\ast$}{*}}]{asm\+\_\+data,  }\item[{const \mbox{\hyperlink{structAsmLine}{Asm\+Line}} \texorpdfstring{$\ast$}{*}}]{line,  }\item[{\mbox{\hyperlink{cmd_8h_a226f97678592b90d02bed2f62edf55c6}{Imm\+\_\+int\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{addr }\end{DoxyParamCaption})}



Gets label addr by name. 


\begin{DoxyParams}{Parameters}
{\em name} & \\
\hline
{\em asm\+\_\+data} & \\
\hline
{\em line} & \\
\hline
{\em addr} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{structStatus_ab31bb94cc29a302cab703638615b604c}{Status\+::\+Statuses} 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{jump_8cpp_source_l00027}{27}} of file \mbox{\hyperlink{jump_8cpp_source}{jump.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ assert(\mbox{\hyperlink{namespacegen_adb0a36eb046ef1eaf9d7cffcc504f0ba}{name}}.str);}
\DoxyCodeLine{00030\ \ \ \ \ assert(asm\_data);}
\DoxyCodeLine{00031\ \ \ \ \ assert(line);}
\DoxyCodeLine{00032\ \ \ \ \ assert(addr);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}\ <\ \mbox{\hyperlink{cmd_8h_a32f204b97db01e62c58e0158ee40b1cf}{MAX\_LABEL\_NUM}};\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}++)\ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{text__lib_8h_a4ee93239b997bad6f5a6b6345f14d0c1}{String\_strcmp}}(\mbox{\hyperlink{text__lib_8h_a59a33ce1c7a0b31f7b0284850e355051}{String\_TO\_const}}(asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[i].\mbox{\hyperlink{structJumpLabel_a0840f89616d10aeb07e92667452e0a58}{name}}),\ \mbox{\hyperlink{text__lib_8h_a59a33ce1c7a0b31f7b0284850e355051}{String\_TO\_const}}(name))\ ==\ 0)\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ *addr\ =\ asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[\mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}].\mbox{\hyperlink{structJumpLabel_aa6389d5fb528422106f28c77d0904477}{addr}};}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604ca7f9c6609a744cdaac1a9e27306d8f8b0}{Status::NORMAL\_WORK}};}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00039\ \ \ \ \ \}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (asm\_data-\/>\mbox{\hyperlink{structAsm_a2ac405dde59fcf5ece63bdecd499c335}{pass\_num}}\ ==\ asm\_data-\/>\mbox{\hyperlink{structAsm_ab544e702fdec142cb2efd0688d8bc80a}{LAST\_PASS\_NUM}})}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{jump_8cpp_aaaf08e4360cf604f52f9a4595a34d28a}{THROW\_SYNTAX\_ERROR\_}}(\textcolor{stringliteral}{"{}Unknown\ label\ \(\backslash\)"{}\%.*s\(\backslash\)"{}"{}},\ \mbox{\hyperlink{text__lib_8h_a8bda955a9d6dede91b9f9319eb437476}{String\_PRINTF}}(name));}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604ca7f9c6609a744cdaac1a9e27306d8f8b0}{Status::NORMAL\_WORK}};}
\DoxyCodeLine{00045\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{asm_8h_source_l00015}{Jump\+Label\+::addr}}, \mbox{\hyperlink{asm_8h_source_l00054}{Asm\+::labels}}, \mbox{\hyperlink{asm_8h_source_l00045}{Asm\+::\+LAST\+\_\+\+PASS\+\_\+\+NUM}}, \mbox{\hyperlink{cmd_8h_source_l00017}{MAX\+\_\+\+LABEL\+\_\+\+NUM}}, \mbox{\hyperlink{asm_8h_source_l00014}{Jump\+Label\+::name}}, \mbox{\hyperlink{statuses_8h_source_l00013}{Status\+::\+NORMAL\+\_\+\+WORK}}, \mbox{\hyperlink{asm_8h_source_l00052}{Asm\+::pass\+\_\+num}}, \mbox{\hyperlink{text__lib_8h_source_l00046}{String\+\_\+\+PRINTF}}, \mbox{\hyperlink{text__lib_8h_source_l00161}{String\+\_\+strcmp()}}, \mbox{\hyperlink{text__lib_8h_source_l00039}{String\+\_\+\+TO\+\_\+const}}, and \mbox{\hyperlink{jump_8cpp_source_l00003}{THROW\+\_\+\+SYNTAX\+\_\+\+ERROR\+\_\+}}.



Referenced by \mbox{\hyperlink{read_8cpp_source_l00168}{asm\+\_\+read\+\_\+arg\+\_\+label()}}.

\Hypertarget{jump_8h_af62348fb6ee360c034bdf1cd0f645200}\label{jump_8h_af62348fb6ee360c034bdf1cd0f645200} 
\index{jump.h@{jump.h}!asm\_get\_label\_name@{asm\_get\_label\_name}}
\index{asm\_get\_label\_name@{asm\_get\_label\_name}!jump.h@{jump.h}}
\doxysubsubsection{\texorpdfstring{asm\_get\_label\_name()}{asm\_get\_label\_name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structconst__String}{const\+\_\+\+String}} asm\+\_\+get\+\_\+label\+\_\+name (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structJumpLabel}{Jump\+Label}} \texorpdfstring{$\ast$}{*}}]{lables,  }\item[{const \mbox{\hyperlink{cmd_8h_a226f97678592b90d02bed2f62edf55c6}{Imm\+\_\+int\+\_\+t}}}]{addr }\end{DoxyParamCaption})}



Returns label name by addr. 


\begin{DoxyParams}{Parameters}
{\em lables} & \\
\hline
{\em addr} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{structconst__String}{const\+\_\+\+String} 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{jump_8cpp_source_l00048}{48}} of file \mbox{\hyperlink{jump_8cpp_source}{jump.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}\ <\ \mbox{\hyperlink{cmd_8h_a32f204b97db01e62c58e0158ee40b1cf}{MAX\_LABEL\_NUM}};\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}++)\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (labels[i].addr\ ==\ addr)}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{namespacegen_a812c7fb48e048ef8686fa06b7b0a8ae6}{labels}}[\mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}].name.str,\ \mbox{\hyperlink{namespacegen_a812c7fb48e048ef8686fa06b7b0a8ae6}{labels}}[\mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}].name.len\};}
\DoxyCodeLine{00052\ \ \ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{text__lib_8h_a62644cba8542352b76b0e4bf9eb25c73}{String\_CONST}}(\textcolor{stringliteral}{"{}!Label\ name\ not\ found!"{}});}
\DoxyCodeLine{00055\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{cmd_8h_source_l00017}{MAX\+\_\+\+LABEL\+\_\+\+NUM}}, and \mbox{\hyperlink{text__lib_8h_source_l00032}{String\+\_\+\+CONST}}.



Referenced by \mbox{\hyperlink{listing_8cpp_source_l00006}{asm\+\_\+write\+\_\+cmd\+\_\+listing()}}.

\Hypertarget{jump_8h_a885700d3d24bdc32ccfd56b8fc83920b}\label{jump_8h_a885700d3d24bdc32ccfd56b8fc83920b} 
\index{jump.h@{jump.h}!asm\_new\_label@{asm\_new\_label}}
\index{asm\_new\_label@{asm\_new\_label}!jump.h@{jump.h}}
\doxysubsubsection{\texorpdfstring{asm\_new\_label()}{asm\_new\_label()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604c}{Status\+::\+Statuses}} asm\+\_\+new\+\_\+label (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structString}{String}}}]{name,  }\item[{const size\+\_\+t}]{addr,  }\item[{\mbox{\hyperlink{structAsm}{Asm}} \texorpdfstring{$\ast$}{*}}]{asm\+\_\+data,  }\item[{const \mbox{\hyperlink{structAsmLine}{Asm\+Line}} \texorpdfstring{$\ast$}{*}}]{line }\end{DoxyParamCaption})}



Adds new label to labels. 


\begin{DoxyParams}{Parameters}
{\em name} & \\
\hline
{\em addr} & \\
\hline
{\em asm\+\_\+data} & \\
\hline
{\em line} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\doxylink{structStatus_ab31bb94cc29a302cab703638615b604c}{Status\+::\+Statuses} 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{jump_8cpp_source_l00005}{5}} of file \mbox{\hyperlink{jump_8cpp_source}{jump.\+cpp}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00006\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00007\ \ \ \ \ assert(\mbox{\hyperlink{namespacegen_adb0a36eb046ef1eaf9d7cffcc504f0ba}{name}}.str);}
\DoxyCodeLine{00008\ \ \ \ \ assert(asm\_data);}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}\ <\ \mbox{\hyperlink{cmd_8h_a32f204b97db01e62c58e0158ee40b1cf}{MAX\_LABEL\_NUM}};\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}++)\ \{}
\DoxyCodeLine{00011\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{text__lib_8h_a4ee93239b997bad6f5a6b6345f14d0c1}{String\_strcmp}}(\mbox{\hyperlink{text__lib_8h_a59a33ce1c7a0b31f7b0284850e355051}{String\_TO\_const}}(asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[i].\mbox{\hyperlink{structJumpLabel_a0840f89616d10aeb07e92667452e0a58}{name}}),\ \mbox{\hyperlink{text__lib_8h_a59a33ce1c7a0b31f7b0284850e355051}{String\_TO\_const}}(name))\ ==\ 0)}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{jump_8cpp_aaaf08e4360cf604f52f9a4595a34d28a}{THROW\_SYNTAX\_ERROR\_}}(\textcolor{stringliteral}{"{}Label\ name\ \(\backslash\)"{}\%.*s\(\backslash\)"{}\ used\ twice."{}},\ \mbox{\hyperlink{text__lib_8h_a8bda955a9d6dede91b9f9319eb437476}{String\_PRINTF}}(name));}
\DoxyCodeLine{00013\ \ \ \ \ \}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}\ <\ \mbox{\hyperlink{cmd_8h_a32f204b97db01e62c58e0158ee40b1cf}{MAX\_LABEL\_NUM}};\ \mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}++)\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[i].\mbox{\hyperlink{structJumpLabel_a0840f89616d10aeb07e92667452e0a58}{name}}.\mbox{\hyperlink{structString_a7fe1a0ef5b6253becac99444295dab0e}{len}}\ ==\ 0\ \&\&\ asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[i].\mbox{\hyperlink{structJumpLabel_aa6389d5fb528422106f28c77d0904477}{addr}}\ ==\ -\/1)\ \{}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \ \ \ \ asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[\mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}].\mbox{\hyperlink{structJumpLabel_a0840f89616d10aeb07e92667452e0a58}{name}}\ =\ \mbox{\hyperlink{namespacegen_adb0a36eb046ef1eaf9d7cffcc504f0ba}{name}};}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \ \ \ \ asm\_data-\/>\mbox{\hyperlink{structAsm_a11625fdda4ef63eee3ad1f44b21d9539}{labels}}[\mbox{\hyperlink{namespacegen_ad6f9a21fef823e19e8e49589645c58ba}{i}}].\mbox{\hyperlink{structJumpLabel_aa6389d5fb528422106f28c77d0904477}{addr}}\ =\ addr;}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structStatus_ab31bb94cc29a302cab703638615b604ca7f9c6609a744cdaac1a9e27306d8f8b0}{Status::NORMAL\_WORK}};}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00022\ \ \ \ \ \}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{jump_8cpp_aaaf08e4360cf604f52f9a4595a34d28a}{THROW\_SYNTAX\_ERROR\_}}(\textcolor{stringliteral}{"{}Too\ many\ labels\ specified.\ Max\ \%zu."{}},\ \mbox{\hyperlink{cmd_8h_a32f204b97db01e62c58e0158ee40b1cf}{MAX\_LABEL\_NUM}});}
\DoxyCodeLine{00025\ \}}

\end{DoxyCode}


References \mbox{\hyperlink{asm_8h_source_l00015}{Jump\+Label\+::addr}}, \mbox{\hyperlink{asm_8h_source_l00054}{Asm\+::labels}}, \mbox{\hyperlink{text__lib_8h_source_l00024}{String\+::len}}, \mbox{\hyperlink{cmd_8h_source_l00017}{MAX\+\_\+\+LABEL\+\_\+\+NUM}}, \mbox{\hyperlink{asm_8h_source_l00014}{Jump\+Label\+::name}}, \mbox{\hyperlink{statuses_8h_source_l00013}{Status\+::\+NORMAL\+\_\+\+WORK}}, \mbox{\hyperlink{text__lib_8h_source_l00046}{String\+\_\+\+PRINTF}}, \mbox{\hyperlink{text__lib_8h_source_l00161}{String\+\_\+strcmp()}}, \mbox{\hyperlink{text__lib_8h_source_l00039}{String\+\_\+\+TO\+\_\+const}}, and \mbox{\hyperlink{jump_8cpp_source_l00003}{THROW\+\_\+\+SYNTAX\+\_\+\+ERROR\+\_\+}}.



Referenced by \mbox{\hyperlink{read_8cpp_source_l00005}{asm\+\_\+read\+\_\+cmd()}}.

