\doxysection{spu\+\_\+dsl.\+h}
\hypertarget{spu__dsl_8h_source}{}\label{spu__dsl_8h_source}\index{spu/src/spu\_dsl.h@{spu/src/spu\_dsl.h}}
\mbox{\hyperlink{spu__dsl_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00004}\mbox{\hyperlink{spu__dsl_8h_a303b93cbec67fcc7b8c811304b46fd9a}{00004}}\ \textcolor{preprocessor}{\#define\ IMM\_DOUBLE\_T\ \ \ \ Imm\_double\_t}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00005}\mbox{\hyperlink{spu__dsl_8h_a40fcaa519b75155facdb1ccc7c5e596b}{00005}}\ \textcolor{preprocessor}{\#define\ INT\_IMM\_T\ \ \ \ \ \ \ Imm\_int\_t}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00007}\mbox{\hyperlink{spu__dsl_8h_a0aef18805c12a685c2b65d6756bc0fa7}{00007}}\ \textcolor{preprocessor}{\#define\ IMM\_DOUBLE\_EPS\ \ IMM\_DOUBLE\_T\_EPSILON}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00009}\mbox{\hyperlink{spu__dsl_8h_a487a6897858a9db1907ebf1906b9db7e}{00009}}\ \textcolor{preprocessor}{\#define\ IS\_ARG\_REG\ \ cmd-\/>byte.reg\ \ \ }\textcolor{comment}{//<\ is\ reg\ given}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00010}\mbox{\hyperlink{spu__dsl_8h_a6e11fe2cdb7ebb3f3c6c3ce953ccad61}{00010}}\ \textcolor{preprocessor}{\#define\ IS\_ARG\_IMM\ \ cmd-\/>byte.imm\ \ \ }\textcolor{comment}{//<\ is\ imm\ given}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00011}\mbox{\hyperlink{spu__dsl_8h_a554fbdda16072b5702ba49969cc10e4c}{00011}}\ \textcolor{preprocessor}{\#define\ IS\_ARG\_RAM\ \ cmd-\/>byte.ram\ \ \ }\textcolor{comment}{//<\ is\ int\ imm\ given}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00013}\mbox{\hyperlink{spu__dsl_8h_affc73a1d6edef707baa2c67176322169}{00013}}\ \textcolor{preprocessor}{\#define\ ARG\_REG\ \ \ \ \ \ \ \ \ cmd-\/>args.reg\ \ \ \ \ \ \ \ \ \ \ }\textcolor{comment}{//<\ reg\ num}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00014}\mbox{\hyperlink{spu__dsl_8h_ab61b6344b067c61cf8a583577051c78e}{00014}}\ \textcolor{preprocessor}{\#define\ ARG\_IMM\_DOUBLE\ \ cmd-\/>args.imm\_double\ \ \ \ }\textcolor{comment}{//<\ double\ imm\ var}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00015}\mbox{\hyperlink{spu__dsl_8h_a2f622510378832f7dd7e9abdebaafac3}{00015}}\ \textcolor{preprocessor}{\#define\ ARG\_IMM\_INT\ \ \ \ \ cmd-\/>args.imm\_int\ \ \ \ \ \ \ }\textcolor{comment}{//<\ int\ imm\ var}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00017}\mbox{\hyperlink{spu__dsl_8h_ad6ade6409c5ca69f90efdfd1acce35fa}{00017}}\ \textcolor{preprocessor}{\#define\ REG(num)\ spu-\/>reg[num]\ \ }\textcolor{comment}{//<\ reg\ var\ by\ num}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00022}\mbox{\hyperlink{spu__dsl_8h_a26e58264549368d4389379a288396829}{00022}}\ \textcolor{preprocessor}{\#define\ IS\_EQUAL\_IMM\_DOUBLE(a,\ b)\ \ \ \ \ \ \ \ \ \ \ (abs((a)\ -\/\ (b))\ <\ IMM\_DOUBLE\_EPS)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00024}\mbox{\hyperlink{spu__dsl_8h_af20bfd59843f7585f68991ebce472c8f}{00024}}\ \textcolor{preprocessor}{\#define\ IS\_GREATER\_IMM\_DOUBLE(a,\ b)\ \ \ \ \ \ \ \ \ ((a)\ >\ (b)\ \&\&\ !IS\_EQUAL\_IMM\_DOUBLE(a,\ b))}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00026}\mbox{\hyperlink{spu__dsl_8h_afd5d285cb1c8f414db8ebe957435d821}{00026}}\ \textcolor{preprocessor}{\#define\ IS\_LOWER\_IMM\_DOUBLE(a,\ b)\ \ \ \ \ \ \ \ \ \ \ ((a)\ <\ (b)\ \&\&\ !IS\_EQUAL\_IMM\_DOUBLE(a,\ b))}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00028}\mbox{\hyperlink{spu__dsl_8h_ad04464cd2bebd34a53966d4f46865b24}{00028}}\ \textcolor{preprocessor}{\#define\ IS\_GREATER\_EQUAL\_IMM\_DOUBLE(a,\ b)\ \ \ ((a)\ >\ (b)\ ||\ IS\_EQUAL\_IMM\_DOUBLE(a,\ b))}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00030}\mbox{\hyperlink{spu__dsl_8h_a340ff9bde723761c762599f264168925}{00030}}\ \textcolor{preprocessor}{\#define\ IS\_LOWER\_EQUAL\_IMM\_DOUBLE(a,\ b)\ \ \ \ \ ((a)\ <\ (b)\ ||\ IS\_EQUAL\_IMM\_DOUBLE(a,\ b))}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00038}\mbox{\hyperlink{spu__dsl_8h_a8caccf4e8da6d5009b7b4a8f0bb48098}{00038}}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{spu__dsl_8h_a8caccf4e8da6d5009b7b4a8f0bb48098}{WEEKDAY}}()\ \{}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00039}00039\ \ \ \ \ time\_t\ t\ =\ time(NULL);}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00040}00040\ \ \ \ \ tm\ *now\ =\ localtime(\&t);}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00041}00041\ \ \ \ \ \textcolor{keywordflow}{return}\ now-\/>tm\_wday;}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00042}00042\ \}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00043}00043\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00047}\mbox{\hyperlink{spu__dsl_8h_a597f2881b60f9b4f9ae6451abaaa1b7c}{00047}}\ \textcolor{preprocessor}{\#define\ HALT()\ return\ Status::OK\_EXIT}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00048}00048\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00052}\mbox{\hyperlink{spu__dsl_8h_a68e4a10cfd30e33ab1e506f696729336}{00052}}\ \textcolor{preprocessor}{\#define\ DUMP()\ spu-\/>dump()}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00059}\mbox{\hyperlink{spu__dsl_8h_aaf30322f59aa465eb1161227f8986838}{00059}}\ \textcolor{preprocessor}{\#define\ JUMP(addr)\ *cur\_byte\ =\ addr}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00067}\mbox{\hyperlink{spu__dsl_8h_a226e577a36ed0a410a8affc1cd05ce25}{00067}}\ \textcolor{preprocessor}{\#define\ CHECK\_AND\_THROW\_ERR(condition,\ error\_msg)\ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00068}00068\ \textcolor{preprocessor}{\ \ \ \ if\ (!(condition))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00069}00069\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ THROW\_RUNTIME\_ERROR\_(error\_msg)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00070}00070\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00076}\mbox{\hyperlink{spu__dsl_8h_ae12240a3f4de46ee0616d67825971f44}{00076}}\ \textcolor{preprocessor}{\#define\ PUSH(var)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00077}00077\ \textcolor{preprocessor}{\ \ \ \ stk\_res\ |=\ stk\_push(\&spu-\/>stk,\ var);\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00078}00078\ \textcolor{preprocessor}{\ \ \ \ if\ (stk\_res\ !=\ Stack::OK)\ break}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00079}00079\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00085}\mbox{\hyperlink{spu__dsl_8h_a8e6708d01dec9fd978f58748eda35132}{00085}}\ \textcolor{preprocessor}{\#define\ POP(var)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00086}00086\ \textcolor{preprocessor}{\ \ \ \ stk\_res\ |=\ stk\_pop(\&spu-\/>stk,\ var);\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00087}00087\ \textcolor{preprocessor}{\ \ \ \ if\ (stk\_res\ !=\ Stack::OK)\ break}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00088}00088\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00094}\mbox{\hyperlink{spu__dsl_8h_a1f92e847fc8c4ba1353b03992c5eeb5a}{00094}}\ \textcolor{preprocessor}{\#define\ GET\_FROM\_INPUT(var)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00095}00095\ \textcolor{preprocessor}{\ \ \ \ *var\ =\ spu\_get\_imm\_from\_input();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00096}00096\ \textcolor{preprocessor}{\ \ \ \ if\ (!CHECK\_IMM\_DOUBLE(*var))\ return\ Status::WRONG\_USER\_INPUT}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00103}\mbox{\hyperlink{spu__dsl_8h_a14f23f2619c0fefec5f6852ed0c2ba6a}{00103}}\ \textcolor{preprocessor}{\#define\ PRINT(var)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00104}00104\ \textcolor{preprocessor}{\ \ \ \ if\ (!spu\_print\_imm(a))\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00105}00105\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ return\ Status::OUTPUT\_ERROR}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00106}00106\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00112}\mbox{\hyperlink{spu__dsl_8h_a0e78009ab0c6fe5165541468db781072}{00112}}\ \textcolor{preprocessor}{\#define\ UNARY\_OPERATOR(operator)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00113}00113\ \textcolor{preprocessor}{\ \ \ \ IMM\_DOUBLE\_T\ a\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00114}00114\ \textcolor{preprocessor}{\ \ \ \ POP(\&a);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00115}00115\ \textcolor{preprocessor}{\ \ \ \ PUSH(operator(a))}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00116}00116\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00122}\mbox{\hyperlink{spu__dsl_8h_a81c98de12ee60ca088f9addf8e178cb2}{00122}}\ \textcolor{preprocessor}{\#define\ BINARY\_OPERATOR(operator)\ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00123}00123\ \textcolor{preprocessor}{\ \ \ \ IMM\_DOUBLE\_T\ a\ =\ 0,\ b\ =\ 0;\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00124}00124\ \textcolor{preprocessor}{\ \ \ \ POP(\&b);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00125}00125\ \textcolor{preprocessor}{\ \ \ \ POP(\&a);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00126}00126\ \textcolor{preprocessor}{\ \ \ \ PUSH((a)\ operator\ (b))}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00134}\mbox{\hyperlink{spu__dsl_8h_a1cf72c3e92ee96c0deff85926ec6199a}{00134}}\ \textcolor{preprocessor}{\#define\ JUMP\_CLAUSE(operator,\ addr)\ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00135}00135\ \textcolor{preprocessor}{\ \ \ \ IMM\_DOUBLE\_T\ a\ =\ 0,\ b\ =\ 0;\ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00136}00136\ \textcolor{preprocessor}{\ \ \ \ POP(\&b);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00137}00137\ \textcolor{preprocessor}{\ \ \ \ POP(\&a);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00138}00138\ \textcolor{preprocessor}{\ \ \ \ if\ ((a)\ operator\ (b))\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00139}00139\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ JUMP(addr);}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00140}00140\ }
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00147}\mbox{\hyperlink{spu__dsl_8h_a8da47d72071c71c053638fde446eb8cf}{00147}}\ \textcolor{preprocessor}{\#define\ JUMP\_CLAUSE\_FUNC(func,\ addr)\ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00148}00148\ \textcolor{preprocessor}{\ \ \ \ IMM\_DOUBLE\_T\ a\ =\ 0,\ b\ =\ 0;\ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00149}00149\ \textcolor{preprocessor}{\ \ \ \ POP(\&b);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00150}00150\ \textcolor{preprocessor}{\ \ \ \ POP(\&a);\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00151}00151\ \textcolor{preprocessor}{\ \ \ \ if\ (func(a,\ b))\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{\Hypertarget{spu__dsl_8h_source_l00152}00152\ \textcolor{preprocessor}{\ \ \ \ \ \ \ \ JUMP(addr);}}

\end{DoxyCode}
